<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ArmedPeace</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="ArmedPeace(NewDV)_20240630_files/libs/clipboard/clipboard.min.js"></script>
<script src="ArmedPeace(NewDV)_20240630_files/libs/quarto-html/quarto.js"></script>
<script src="ArmedPeace(NewDV)_20240630_files/libs/quarto-html/popper.min.js"></script>
<script src="ArmedPeace(NewDV)_20240630_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ArmedPeace(NewDV)_20240630_files/libs/quarto-html/anchor.min.js"></script>
<link href="ArmedPeace(NewDV)_20240630_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ArmedPeace(NewDV)_20240630_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ArmedPeace(NewDV)_20240630_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ArmedPeace(NewDV)_20240630_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ArmedPeace(NewDV)_20240630_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#making-new-dvs" id="toc-making-new-dvs" class="nav-link active" data-scroll-target="#making-new-dvs">Making new DVs</a></li>
  <li><a href="#loading-data-creating-variables" id="toc-loading-data-creating-variables" class="nav-link" data-scroll-target="#loading-data-creating-variables">Loading data &amp; creating variables</a></li>
  <li><a href="#base-measures-raw-or-logged-military-expenditure" id="toc-base-measures-raw-or-logged-military-expenditure" class="nav-link" data-scroll-target="#base-measures-raw-or-logged-military-expenditure">Base Measures: (Raw or Logged) Military Expenditure</a>
  <ul class="collapse">
  <li><a href="#distributions-of-military-expenditure" id="toc-distributions-of-military-expenditure" class="nav-link" data-scroll-target="#distributions-of-military-expenditure">Distributions of military expenditure</a></li>
  <li><a href="#combining-datasets" id="toc-combining-datasets" class="nav-link" data-scroll-target="#combining-datasets">combining datasets</a></li>
  <li><a href="#very-rough-linear-regressions" id="toc-very-rough-linear-regressions" class="nav-link" data-scroll-target="#very-rough-linear-regressions">(Very) rough linear regressions</a></li>
  <li><a href="#dv-as-a-difference-from-3-year-moving-average" id="toc-dv-as-a-difference-from-3-year-moving-average" class="nav-link" data-scroll-target="#dv-as-a-difference-from-3-year-moving-average">DV as a DIfference from 3-year Moving Average</a></li>
  <li><a href="#dv-as-a-difference-from-5-year-moving-average" id="toc-dv-as-a-difference-from-5-year-moving-average" class="nav-link" data-scroll-target="#dv-as-a-difference-from-5-year-moving-average">DV as a Difference from 5-year Moving Average</a></li>
  <li><a href="#dv-as-a-difference-from-10-year-moving-average" id="toc-dv-as-a-difference-from-10-year-moving-average" class="nav-link" data-scroll-target="#dv-as-a-difference-from-10-year-moving-average">DV as a Difference from 10-year Moving Average</a></li>
  </ul></li>
  <li><a href="#gdp-ratio" id="toc-gdp-ratio" class="nav-link" data-scroll-target="#gdp-ratio">GDP ratio</a>
  <ul class="collapse">
  <li><a href="#lnmil-expgdp" id="toc-lnmil-expgdp" class="nav-link" data-scroll-target="#lnmil-expgdp">ln(Mil Exp/GDP)</a></li>
  <li><a href="#year-moving-average-of-the-mil-expgdp-ratio" id="toc-year-moving-average-of-the-mil-expgdp-ratio" class="nav-link" data-scroll-target="#year-moving-average-of-the-mil-expgdp-ratio">3-year Moving Average of the Mil Exp/GDP ratio</a></li>
  <li><a href="#year-moving-average" id="toc-year-moving-average" class="nav-link" data-scroll-target="#year-moving-average">5-year moving average</a></li>
  <li><a href="#year-moving-average-1" id="toc-year-moving-average-1" class="nav-link" data-scroll-target="#year-moving-average-1">10-year moving average</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ArmedPeace</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="making-new-dvs" class="level1">
<h1>Making new DVs</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pcse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-data-creating-variables" class="level1">
<h1>Loading data &amp; creating variables</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>HSS <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"Data/Raw/Democracy external threat and military spending/DP_Nord_clean.dta"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>ZFS <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"Data/Raw/JPR - What Goes Up - Replication/replication.dta"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">ln_smilex =</span> <span class="fu">log</span>(smilex), </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">ln_milex =</span> <span class="fu">log</span>(milex),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">ln_rgdp =</span> <span class="fu">log</span>(rgdp))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>BFMM <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"~/Library/Mobile Documents/com~apple~CloudDocs/Research/Armed Peace with Scott, Pat, and Terry/R/Domestic Bargaining and Military Balance/data/ArmedPeaceData-main/Data/Raw/Barnum et al JPR 2024/data/estimates_milex_cur_20231205.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="base-measures-raw-or-logged-military-expenditure" class="level1">
<h1>Base Measures: (Raw or Logged) Military Expenditure</h1>
<p>Military expenditure data are from (a) Hauenstein, Smith and Souva (021) (HSS), (b) Zielinski, Fordham, and Schilde (ZFS), and (c) Barnum, Farris, Markowitz, and Morales (2024) (BFMM).</p>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 19%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Dataset</th>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HSS</td>
<td>LMILEX</td>
<td>ln(Military Expenditure)</td>
</tr>
<tr class="even">
<td>HSS</td>
<td>LMILGDP</td>
<td>ln(Military Expenditure/GDP)</td>
</tr>
<tr class="odd">
<td>ZFS</td>
<td>smilex</td>
<td>(Raw) Military Expenditure from SIPLI.</td>
</tr>
<tr class="even">
<td>ZFS</td>
<td>ln_smilex</td>
<td>ln(Military Expenditure) from SIPLI.</td>
</tr>
<tr class="odd">
<td>ZFS</td>
<td>smilincr</td>
<td>Change in (Raw) Military Expenditure from t-1 to t in <code>smilex</code></td>
</tr>
<tr class="even">
<td>ZFS</td>
<td>milex</td>
<td>(Raw) Military Expenditure from Nordhaus et al.</td>
</tr>
<tr class="odd">
<td>ZFS</td>
<td>ln_milex</td>
<td>ln(Military Expenditure) from Nordhouse et al.</td>
</tr>
<tr class="even">
<td>ZFS</td>
<td>milincr</td>
<td>Change in (Raw) Military Expenditure from t-1 to t in <code>milex</code></td>
</tr>
<tr class="odd">
<td>ZFS</td>
<td>rgdp</td>
<td>Raw GDP</td>
</tr>
<tr class="even">
<td>ZFS</td>
<td>ln_rgdp</td>
<td>ln(Raw GDP)</td>
</tr>
<tr class="odd">
<td>ZFS</td>
<td>rgdpincr</td>
<td>Change in Raw GDP from t-1 to t in <code>rgdp</code></td>
</tr>
<tr class="even">
<td>BFMM</td>
<td>mean</td>
<td>Mean of the predicted distribution of (raw) military expenditure</td>
</tr>
<tr class="odd">
<td>BFMM</td>
<td>mean_log</td>
<td>ln(<code>mean</code>)</td>
</tr>
</tbody>
</table>
<p>Year coverage. HSS: 1951-2000 ZFS: 1945-2015 BFMM:1816 - 2022</p>
<section id="distributions-of-military-expenditure" class="level2">
<h2 class="anchored" data-anchor-id="distributions-of-military-expenditure">Distributions of military expenditure</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># LMILEX from HSS</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(HSS<span class="sc">$</span>LMILEX)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
-0.4612  5.1331  6.7051  6.6764  8.1738 13.1076 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(HSS<span class="sc">$</span>LMILEX)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># smilex from ZFS</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ZFS<span class="sc">$</span>smilex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
     0.0    114.9    838.3   9883.5   4494.8 757992.5     4194 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">na.omit</span>(ZFS<span class="sc">$</span>smilex)) <span class="co"># NAs are omitted</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ln_smilex from ZFS</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ZFS<span class="sc">$</span>ln_smilex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -Inf   4.744   6.731    -Inf   8.411  13.538    4194 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">na.omit</span>(ZFS<span class="sc">$</span>ln_smilex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># milex fron ZFS</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ZFS<span class="sc">$</span>milex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's 
     0.6    169.5    816.5   7294.1   3546.9 492667.6     4934 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">na.omit</span>(ZFS<span class="sc">$</span>milex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ln_milex fron ZFS</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ZFS<span class="sc">$</span>ln_milex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
 -0.461   5.133   6.705   6.676   8.174  13.108    4934 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">na.omit</span>(ZFS<span class="sc">$</span>ln_milex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mean from BFMM</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(BFMM<span class="sc">$</span>mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
        0         9        79     88216       933 887244623 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(BFMM<span class="sc">$</span>mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mean_log from BFMM</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(BFMM<span class="sc">$</span>mean_log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 -9.326   2.077   4.296   4.456   6.764  20.517 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(BFMM<span class="sc">$</span>mean_log)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-3-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="combining-datasets" class="level2">
<h2 class="anchored" data-anchor-id="combining-datasets">combining datasets</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>BFMM<span class="sc">$</span>ccode <span class="ot">&lt;-</span> <span class="fu">countrycode</span>(BFMM<span class="sc">$</span>gwno,<span class="st">"gwn"</span>, <span class="st">"cown"</span>) <span class="co"># Gleditsch-Ward system does not perfectly match the COW country code. This makes a warning message  later.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Some values were not matched unambiguously: 255, 271, 273, 275, 340, 591, 730, 816</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> BFMM <span class="sc">|&gt;</span>  <span class="fu">left_join</span>(ZFS, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ccode"</span> <span class="ot">=</span> <span class="st">"STATE"</span>, <span class="st">"year"</span> <span class="ot">=</span> <span class="st">"YEAR"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(HSS, <span class="at">by =</span><span class="fu">c</span>(<span class="st">"ccode"</span> <span class="ot">=</span> <span class="st">"ccode"</span>, <span class="st">"year"</span> <span class="ot">=</span> <span class="st">"year"</span>))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">LNRGDP_lag1 =</span> <span class="fu">lag</span>(LNRGDP, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">order_by =</span> year), <span class="co"># this is for 3-year moving ave.</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">LNRGDP_lag2 =</span> <span class="fu">lag</span>(LNRGDP, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">LNRGDP_lag4 =</span> <span class="fu">lag</span>(LNRGDP, <span class="at">n =</span> <span class="dv">4</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">v2x_polyarchy_lag1 =</span> <span class="fu">lag</span>(v2x_polyarchy, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">v2x_polyarchy_lag2 =</span> <span class="fu">lag</span>(v2x_polyarchy, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">v2x_polyarchy_lag4 =</span> <span class="fu">lag</span>(v2x_polyarchy, <span class="at">n =</span> <span class="dv">4</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">PN6_lag1 =</span> <span class="fu">lag</span>(PN6, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">PN6_lag2 =</span> <span class="fu">lag</span>(PN6, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>                    <span class="at">PN6_lag4 =</span> <span class="fu">lag</span>(PN6, <span class="at">n =</span> <span class="dv">4</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>                    <span class="at">defense_dem_lag1 =</span> <span class="fu">lag</span>(defense_dem, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>                    <span class="at">defense_dem_lag2 =</span> <span class="fu">lag</span>(defense_dem, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">defense_dem_lag4 =</span> <span class="fu">lag</span>(defense_dem, <span class="at">n =</span> <span class="dv">4</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>                    <span class="at">defense_nodem_lag1 =</span> <span class="fu">lag</span>(defense_nodem, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>                    <span class="at">defense_nodem_lag2 =</span> <span class="fu">lag</span>(defense_nodem, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>                    <span class="at">defense_nodem_lag4 =</span> <span class="fu">lag</span>(defense_nodem, <span class="at">n =</span> <span class="dv">4</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>                    <span class="at">atwar_lag1 =</span> <span class="fu">lag</span>(atwar, <span class="at">n=</span><span class="dv">1</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>                    <span class="at">atwar_lag2 =</span> <span class="fu">lag</span>(atwar, <span class="at">n=</span><span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>                    <span class="at">atwar_lag4 =</span> <span class="fu">lag</span>(atwar, <span class="at">n=</span><span class="dv">4</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>                    <span class="at">civilwar_lag1 =</span> <span class="fu">lag</span>(civilwar, <span class="at">n=</span><span class="dv">1</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>                    <span class="at">civilwar_lag2 =</span> <span class="fu">lag</span>(civilwar, <span class="at">n=</span><span class="dv">2</span>, <span class="at">order_by =</span> year),</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>                    <span class="at">civilwar_lag4 =</span> <span class="fu">lag</span>(civilwar, <span class="at">n=</span><span class="dv">4</span>, <span class="at">order_by =</span> year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>df</code> is created based on BFMM, which means the data frame covers years from 1815 to 2022. Thus, we will have many NAs when we use variables from HSS or ZFS.</p>
</section>
<section id="very-rough-linear-regressions" class="level2">
<h2 class="anchored" data-anchor-id="very-rough-linear-regressions">(Very) rough linear regressions</h2>
<p>Here I included fixed effects since otherwise almost all variables would have a significant p values, which would make it difficult to choose which DV we should focus on. By adding fixed effects, we can see which variables well predict the variation of the military expenditure after controlling for year-specific or unit specific factors. (But I am very open to any suggestions.)</p>
<p>Variables DV: raw or logged military expenditure in various measures RHS: GDP, liberal democracy index in Vdem, external threat, defensive alliances with a democracy, defensive alliances with an autocracy, a dummy variable of international war, and a dummy variable of civil war. Fixed effects: year and country</p>
<p>I will use the same RHS variables in the later analyses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>fit0_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 534,717 observations removed because of NA values (LHS: 533,763, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit0_1) <span class="co">#PN6 is a threat variable from Nordhouase. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX
Observations: 320,332 
Fixed-effects: year: 50,  ccode: 162
Standard-errors: Clustered (year) 
               Estimate Std. Error  t value   Pr(&gt;|t|)    
LNRGDP         0.772040   0.046658 16.54690  &lt; 2.2e-16 ***
v2x_polyarchy -0.417271   0.043798 -9.52708 9.8042e-13 ***
PN6            1.002250   0.153574  6.52618 3.5973e-08 ***
defense_dem   -0.146434   0.037272 -3.92883 2.6748e-04 ***
defense_nodem  0.254866   0.025858  9.85654 3.2452e-13 ***
atwar          0.287261   0.038853  7.39359 1.6332e-09 ***
civilwar       0.237905   0.036431  6.53032 3.5446e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.533439     Adj. R2: 0.937546
                 Within R2: 0.165206</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>fit0_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 625,294 observations removed because of NA and infinite values (LHS: 502,387, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit0_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex
Observations: 229,755 
Fixed-effects: year: 50,  ccode: 151
Standard-errors: Clustered (year) 
               Estimate Std. Error  t value   Pr(&gt;|t|)    
LNRGDP         0.837134   0.038758 21.59876  &lt; 2.2e-16 ***
v2x_polyarchy -0.259671   0.061577 -4.21699 1.0628e-04 ***
PN6            1.429619   0.170457  8.38699 4.9212e-11 ***
defense_dem   -0.146880   0.024030 -6.11247 1.5699e-07 ***
defense_nodem  0.146579   0.029933  4.89694 1.1006e-05 ***
atwar          0.242144   0.044688  5.41861 1.8149e-06 ***
civilwar       0.197513   0.036276  5.44479 1.6562e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.407858     Adj. R2: 0.968762
                 Within R2: 0.184217</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>fit0_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 534,717 observations removed because of NA values (LHS: 533,339, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit0_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex
Observations: 320,332 
Fixed-effects: year: 50,  ccode: 162
Standard-errors: Clustered (year) 
               Estimate Std. Error  t value   Pr(&gt;|t|)    
LNRGDP         0.772040   0.046658 16.54690  &lt; 2.2e-16 ***
v2x_polyarchy -0.417271   0.043798 -9.52708 9.8042e-13 ***
PN6            1.002250   0.153574  6.52618 3.5973e-08 ***
defense_dem   -0.146434   0.037272 -3.92883 2.6748e-04 ***
defense_nodem  0.254866   0.025858  9.85654 3.2452e-13 ***
atwar          0.287261   0.038853  7.39359 1.6332e-09 ***
civilwar       0.237905   0.036431  6.53032 3.5446e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.533439     Adj. R2: 0.937546
                 Within R2: 0.165206</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>fit0_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 534,717 observations removed because of NA values (RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit0_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log
Observations: 320,332 
Fixed-effects: year: 50,  ccode: 162
Standard-errors: Clustered (year) 
               Estimate Std. Error  t value   Pr(&gt;|t|)    
LNRGDP         0.580892   0.038107 15.24382  &lt; 2.2e-16 ***
v2x_polyarchy -0.479609   0.060233 -7.96253 2.1800e-10 ***
PN6            0.363862   0.214963  1.69268 9.6867e-02 .  
defense_dem   -0.191345   0.040523 -4.72185 1.9938e-05 ***
defense_nodem  0.193563   0.027465  7.04759 5.5984e-09 ***
atwar          0.254787   0.040532  6.28603 8.4672e-08 ***
civilwar       0.194694   0.037953  5.12984 4.9485e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 1.86841     Adj. R2: 0.613312
                Within R2: 0.00992 </code></pre>
</div>
</div>
</section>
<section id="dv-as-a-difference-from-3-year-moving-average" class="level2">
<h2 class="anchored" data-anchor-id="dv-as-a-difference-from-3-year-moving-average">DV as a DIfference from 3-year Moving Average</h2>
<p>Here I take 3-year moving averages of log(military expenditure), and then take a difference between log(military expenditure) and the 3-year average of log(military expenditure).</p>
<p>(But, perhaps, it may be more appropriate to take moving averages of raw military expenditure and then take a difference. (and then taking a log of the difference, if necessary.) )</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(ccode) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">LMILEX_ma3 =</span> <span class="fu">rollmean</span>(LMILEX, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>),  </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_smilex_ma3 =</span> <span class="fu">rollmean</span>(ln_smilex, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_milex_ma3 =</span> <span class="fu">rollmean</span>(ln_milex, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_log_ma3 =</span> <span class="fu">rollmean</span>(mean_log, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">LMILEX_ma3_diff =</span> LMILEX <span class="sc">-</span> LMILEX_ma3,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_smilex_ma3_diff =</span> ln_smilex <span class="sc">-</span> ln_smilex_ma3,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_milex_ma3_diff =</span> ln_milex <span class="sc">-</span> ln_milex_ma3,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_log_ma3_diff =</span> mean_log <span class="sc">-</span> mean_log_ma3</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Letâ€™s take a look at distributions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>LMILEX_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.5     0.0     0.0     0.0     0.0     2.1  556394 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>LMILEX_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_smilex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -1.2     0.0     0.0     Inf     0.0     Inf  527774 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_smilex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_milex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.5     0.0     0.0     0.0     0.0     2.1  556076 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_milex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-7-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>mean_log_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-6.2469 -0.0200  0.0002  0.0000  0.0207  6.2353     376 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>mean_log_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-7-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regressions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>fit1_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 584,749 observations removed because of NA values (LHS: 556,394, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1_1)<span class="co">#PN6 is a threat variable from Nordhaus</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX_ma3_diff
Observations: 270,300 
Fixed-effects: year: 48,  ccode: 158
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag1         0.001124   0.005416  0.207609  0.83643 
v2x_polyarchy_lag1  0.003824   0.012159  0.314471  0.75455 
PN6_lag1           -0.012106   0.042510 -0.284773  0.77707 
defense_dem_lag1   -0.002611   0.008195 -0.318647  0.75141 
defense_nodem_lag1 -0.000681   0.009157 -0.074368  0.94103 
atwar_lag1          0.017167   0.019861  0.864387  0.39177 
civilwar_lag1      -0.004810   0.010236 -0.469922  0.64058 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.143374     Adj. R2: 0.021996
                 Within R2: 5.14e-4 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>fit1_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 651,953 observations removed because of NA and infinite values (LHS: 527,880, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ma3_diff
Observations: 203,096 
Fixed-effects: year: 51,  ccode: 149
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag1        -0.001777   0.003719 -0.477897  0.63481 
v2x_polyarchy_lag1  0.005394   0.008426  0.640145  0.52500 
PN6_lag1            0.034348   0.040158  0.855324  0.39645 
defense_dem_lag1   -0.000543   0.005318 -0.102048  0.91913 
defense_nodem_lag1  0.003343   0.008424  0.396789  0.69321 
atwar_lag1          0.009337   0.015098  0.618381  0.53913 
civilwar_lag1       0.004067   0.009100  0.446948  0.65684 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.094427     Adj. R2: 0.024911
                 Within R2: 5.808e-4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>fit1_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 584,431 observations removed because of NA values (LHS: 556,076, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ma3_diff
Observations: 270,618 
Fixed-effects: year: 48,  ccode: 159
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag1         0.001137   0.005416  0.209864  0.83468 
v2x_polyarchy_lag1  0.003806   0.012154  0.313158  0.75555 
PN6_lag1           -0.012342   0.042508 -0.290352  0.77282 
defense_dem_lag1   -0.002620   0.008117 -0.322779  0.74829 
defense_nodem_lag1 -0.000761   0.009089 -0.083727  0.93363 
atwar_lag1          0.017172   0.019859  0.864676  0.39161 
civilwar_lag1      -0.004819   0.010238 -0.470749  0.64000 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.143295     Adj. R2: 0.02201 
                 Within R2: 5.157e-4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>fit1_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 536,839 observations removed because of NA values (LHS: 376, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit1_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log_ma3_diff
Observations: 318,210 
Fixed-effects: year: 51,  ccode: 170
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag1        -0.011306   0.008992 -1.257423 0.214442    
v2x_polyarchy_lag1 -0.002872   0.027795 -0.103313 0.918128    
PN6_lag1            0.232704   0.115378  2.016882 0.049094 *  
defense_dem_lag1    0.004759   0.009185  0.518165 0.606628    
defense_nodem_lag1  0.025748   0.019274  1.335911 0.187627    
atwar_lag1          0.018695   0.009198  2.032416 0.047440 *  
civilwar_lag1       0.000041   0.013930  0.002910 0.997690    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.173576     Adj. R2: 0.052219
                 Within R2: 0.005198</code></pre>
</div>
</div>
</section>
<section id="dv-as-a-difference-from-5-year-moving-average" class="level2">
<h2 class="anchored" data-anchor-id="dv-as-a-difference-from-5-year-moving-average">DV as a Difference from 5-year Moving Average</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(ccode) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">LMILEX_ma5 =</span> <span class="fu">rollmean</span>(LMILEX, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>),  </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_smilex_ma5 =</span> <span class="fu">rollmean</span>(ln_smilex, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_milex_ma5 =</span> <span class="fu">rollmean</span>(ln_milex, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_log_ma5 =</span> <span class="fu">rollmean</span>(mean_log, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>)</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">LMILEX_ma5_diff =</span> LMILEX <span class="sc">-</span> LMILEX_ma5,</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_smilex_ma5_diff =</span> ln_smilex <span class="sc">-</span> ln_smilex_ma5,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_milex_ma5_diff =</span> ln_milex <span class="sc">-</span> ln_milex_ma5,</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_log_ma5_diff =</span> mean_log <span class="sc">-</span> mean_log_ma5</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>LMILEX_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.7    -0.1     0.0     0.0     0.1     1.8  576799 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>LMILEX_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_smilex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -1.2     0.0     0.0     Inf     0.0     Inf  550776 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_smilex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_milex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.7    -0.1     0.0     0.0     0.1     1.8  576587 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_milex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>mean_log_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-7.6203 -0.0390  0.0001  0.0000  0.0389  7.4978     752 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>mean_log_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>fit2_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 603,193 observations removed because of NA values (LHS: 576,799, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2_1)<span class="co">#PN6 is a threat variable from Nordhouase. v2x_polyarchy is an index of democracy, defense_dem and defense_nodem are diffensive alliance with a (non)democracy. atwar is a dummy variable of interstate war and civilwar is a dummy variable of  civil war.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX_ma5_diff
Observations: 251,856 
Fixed-effects: year: 46,  ccode: 158
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.001986   0.004820  0.411921  0.68235 
v2x_polyarchy_lag2  0.011028   0.020634  0.534453  0.59566 
PN6_lag2            0.037273   0.055313  0.673864  0.50384 
defense_dem_lag2   -0.012388   0.012963 -0.955698  0.34433 
defense_nodem_lag2  0.015610   0.015266  1.022522  0.31200 
atwar_lag2          0.008989   0.017833  0.504064  0.61668 
civilwar_lag2       0.013478   0.009812  1.373654  0.17635 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.167984     Adj. R2: 0.035486
                 Within R2: 0.001351</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>fit2_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 662,817 observations removed because of NA and infinite values (LHS: 550,988, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ma5_diff
Observations: 192,232 
Fixed-effects: year: 51,  ccode: 150
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.001922   0.004912  0.391268  0.69726 
v2x_polyarchy_lag2 -0.006059   0.013046 -0.464429  0.64436 
PN6_lag2            0.048746   0.050848  0.958651  0.34235 
defense_dem_lag2   -0.013944   0.008981 -1.552706  0.12680 
defense_nodem_lag2  0.011566   0.009609  1.203667  0.23439 
atwar_lag2          0.022817   0.018052  1.263999  0.21209 
civilwar_lag2       0.010481   0.011407  0.918846  0.36259 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.125367     Adj. R2: 0.040433
                 Within R2: 0.002752</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>fit2_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 602,981 observations removed because of NA values (LHS: 576,587, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ma5_diff
Observations: 252,068 
Fixed-effects: year: 46,  ccode: 159
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.001986   0.004820  0.411985  0.68231 
v2x_polyarchy_lag2  0.011029   0.020634  0.534511  0.59562 
PN6_lag2            0.037277   0.055312  0.673935  0.50380 
defense_dem_lag2   -0.012391   0.012962 -0.955976  0.34419 
defense_nodem_lag2  0.015611   0.015264  1.022723  0.31191 
atwar_lag2          0.008988   0.017833  0.504024  0.61670 
civilwar_lag2       0.013474   0.009812  1.373180  0.17650 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.167915     Adj. R2: 0.035536
                 Within R2: 0.001351</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>fit2_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 536,660 observations removed because of NA values (LHS: 752, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log_ma5_diff
Observations: 318,389 
Fixed-effects: year: 51,  ccode: 170
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag2        -0.012928   0.007466 -1.731623 0.089507 .  
v2x_polyarchy_lag2 -0.042348   0.031828 -1.330514 0.189386    
PN6_lag2            0.093275   0.100347  0.929521 0.357085    
defense_dem_lag2    0.016939   0.015781  1.073418 0.288237    
defense_nodem_lag2 -0.019131   0.020839 -0.918051 0.363000    
atwar_lag2         -0.010294   0.023107 -0.445489 0.657889    
civilwar_lag2      -0.005012   0.009560 -0.524324 0.602370    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.249635     Adj. R2: 0.063594
                 Within R2: 0.002627</code></pre>
</div>
</div>
</section>
<section id="dv-as-a-difference-from-10-year-moving-average" class="level2">
<h2 class="anchored" data-anchor-id="dv-as-a-difference-from-10-year-moving-average">DV as a Difference from 10-year Moving Average</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(ccode) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">LMILEX_ma10 =</span> <span class="fu">rollmean</span>(LMILEX, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>),  </span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_smilex_ma10 =</span> <span class="fu">rollmean</span>(ln_smilex, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_milex_ma10 =</span> <span class="fu">rollmean</span>(ln_milex, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_log_ma10 =</span> <span class="fu">rollmean</span>(mean_log, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>)</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">LMILEX_ma10_diff =</span> LMILEX <span class="sc">-</span> LMILEX_ma10,</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_smilex_ma10_diff =</span> ln_smilex <span class="sc">-</span> ln_smilex_ma10,</span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_milex_ma10_diff =</span> ln_milex <span class="sc">-</span> ln_milex_ma10,</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_log_ma10_diff =</span> mean_log <span class="sc">-</span> mean_log_ma10</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>LMILEX_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.8    -0.1     0.0     0.0     0.1     1.6  623333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>LMILEX_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_smilex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -1.2    -0.1     0.0     Inf     0.0     Inf  599801 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_smilex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_milex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.8    -0.1     0.0     0.0     0.1     1.6  623333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_milex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-13-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>mean_log_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
-8.4449 -0.1217 -0.0204 -0.0004  0.0702  9.3631    1692 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>mean_log_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-13-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>fit3_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 647,713 observations removed because of NA values (LHS: 623,333, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit3_1)<span class="co">#PN6 is a threat variable from Nordhouase. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX_ma10_diff
Observations: 207,336 
Fixed-effects: year: 41,  ccode: 139
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag4         0.001781   0.004557  0.390864 0.697972    
v2x_polyarchy_lag4 -0.007006   0.019398 -0.361151 0.719887    
PN6_lag4            0.045331   0.049711  0.911891 0.367290    
defense_dem_lag4   -0.004114   0.011326 -0.363222 0.718352    
defense_nodem_lag4 -0.011018   0.011883 -0.927152 0.359409    
atwar_lag4          0.032816   0.022395  1.465340 0.150645    
civilwar_lag4      -0.027110   0.012327 -2.199182 0.033708 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.228348     Adj. R2: 0.076803
                 Within R2: 0.001917</code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>fit3_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 683,804 observations removed because of NA and infinite values (LHS: 600,278, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit3_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ma10_diff
Observations: 171,245 
Fixed-effects: year: 49,  ccode: 137
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag4         0.000592   0.003586  0.165052 0.869596    
v2x_polyarchy_lag4 -0.006295   0.018864 -0.333704 0.740056    
PN6_lag4            0.067199   0.049194  1.365990 0.178308    
defense_dem_lag4   -0.024490   0.012584 -1.946171 0.057501 .  
defense_nodem_lag4  0.025023   0.013243  1.889567 0.064864 .  
atwar_lag4          0.008120   0.017860  0.454633 0.651423    
civilwar_lag4       0.003046   0.011453  0.265969 0.791402    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.163157     Adj. R2: 0.094083
                 Within R2: 0.002805</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>fit3_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 647,713 observations removed because of NA values (LHS: 623,333, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit3_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ma10_diff
Observations: 207,336 
Fixed-effects: year: 41,  ccode: 139
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag4         0.001781   0.004557  0.390864 0.697972    
v2x_polyarchy_lag4 -0.007006   0.019398 -0.361151 0.719887    
PN6_lag4            0.045331   0.049711  0.911890 0.367290    
defense_dem_lag4   -0.004114   0.011326 -0.363222 0.718352    
defense_nodem_lag4 -0.011018   0.011883 -0.927152 0.359409    
atwar_lag4          0.032816   0.022395  1.465340 0.150645    
civilwar_lag4      -0.027110   0.012327 -2.199182 0.033708 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.228348     Adj. R2: 0.076803
                 Within R2: 0.001917</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>fit3_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 537,549 observations removed because of NA values (LHS: 1,692, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit3_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log_ma10_diff
Observations: 317,500 
Fixed-effects: year: 51,  ccode: 171
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value   Pr(&gt;|t|)    
LNRGDP_lag4        -0.003606   0.009731 -0.370549 0.71253871    
v2x_polyarchy_lag4 -0.151331   0.040909 -3.699229 0.00053837 ***
PN6_lag4            0.201584   0.091021  2.214696 0.03136688 *  
defense_dem_lag4    0.027966   0.028919  0.967037 0.33817994    
defense_nodem_lag4 -0.044480   0.029813 -1.491957 0.14199357    
atwar_lag4          0.006011   0.028744  0.209131 0.83519596    
civilwar_lag4      -0.014287   0.017116 -0.834711 0.40785129    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.36997     Adj. R2: 0.119794
                Within R2: 0.006419</code></pre>
</div>
</div>
</section>
</section>
<section id="gdp-ratio" class="level1">
<h1>GDP ratio</h1>
<section id="lnmil-expgdp" class="level2">
<h2 class="anchored" data-anchor-id="lnmil-expgdp">ln(Mil Exp/GDP)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co">#LMILGDP  is ln(military expendigure/GDP)</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">mutate</span>( <span class="at">LMILEX_ratio =</span> <span class="fu">exp</span>(LMILEX)<span class="sc">/</span><span class="fu">exp</span>(LNRGDP),  <span class="co"># LMILEX and LNRGDP are logged so I convert them to original values.</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">smilex_ratio =</span> smilex<span class="sc">/</span>rgdp,</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">milex_ratio =</span> milex<span class="sc">/</span>rgdp,</span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">mean_ratio =</span> mean<span class="sc">/</span>rgdp, <span class="co"># note that rgdp covers years from 1945-2015, so mean is not fully used</span></span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ln_smilex_ratio =</span> <span class="fu">log</span>(smilex_ratio),  <span class="co"># the ratios of mil exp and gdp are skewed, so I take a log.</span></span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ln_milex_ratio =</span> <span class="fu">log</span>(milex_ratio),</span>
<span id="cb130-9"><a href="#cb130-9" aria-hidden="true" tabindex="-1"></a>                    <span class="at">ln_mean_ratio =</span> <span class="fu">log</span>(mean_ratio))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>fit4_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILGDP  <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 534,717 observations removed because of NA values (LHS: 533,763, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit4_1)<span class="co">#PN6 is a threat variable from Nordhouase. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILGDP
Observations: 320,332 
Fixed-effects: year: 50,  ccode: 162
Standard-errors: Clustered (year) 
               Estimate Std. Error  t value   Pr(&gt;|t|)    
LNRGDP        -0.227960   0.046658 -4.88580 1.1432e-05 ***
v2x_polyarchy -0.417271   0.043798 -9.52708 9.8041e-13 ***
PN6            1.002250   0.153574  6.52618 3.5973e-08 ***
defense_dem   -0.146434   0.037272 -3.92883 2.6748e-04 ***
defense_nodem  0.254866   0.025858  9.85654 3.2452e-13 ***
atwar          0.287261   0.038853  7.39359 1.6332e-09 ***
civilwar       0.237905   0.036431  6.53032 3.5446e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.533439     Adj. R2: 0.738827
                 Within R2: 0.061674</code></pre>
</div>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>fit4_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ratio <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 625,294 observations removed because of NA and infinite values (LHS: 533,604, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit4_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ratio
Observations: 229,755 
Fixed-effects: year: 50,  ccode: 151
Standard-errors: Clustered (year) 
               Estimate Std. Error   t value   Pr(&gt;|t|)    
LNRGDP        -0.029363   0.037200 -0.789339 4.3372e-01    
v2x_polyarchy -0.497405   0.063349 -7.851776 3.2215e-10 ***
PN6            1.642547   0.140690 11.674928 9.2243e-16 ***
defense_dem   -0.184378   0.031103 -5.927961 3.0213e-07 ***
defense_nodem  0.262880   0.034404  7.641026 6.7877e-10 ***
atwar          0.298769   0.051023  5.855614 3.9031e-07 ***
civilwar       0.226944   0.039830  5.697792 6.8138e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.431282     Adj. R2: 0.835803
                 Within R2: 0.085173</code></pre>
</div>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>fit4_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ratio <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 534,717 observations removed because of NA values (LHS: 533,339, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit4_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ratio
Observations: 320,332 
Fixed-effects: year: 50,  ccode: 162
Standard-errors: Clustered (year) 
               Estimate Std. Error    t value   Pr(&gt;|t|)    
LNRGDP        -0.048924   0.053893  -0.907794 3.6843e-01    
v2x_polyarchy -0.645309   0.058893 -10.957283 8.8758e-15 ***
PN6            1.581605   0.164381   9.621584 7.1304e-13 ***
defense_dem   -0.130316   0.034679  -3.757756 4.5663e-04 ***
defense_nodem  0.363763   0.031504  11.546399 1.3770e-15 ***
atwar          0.320035   0.040316   7.938173 2.3753e-10 ***
civilwar       0.250851   0.038543   6.508385 3.8331e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.551636     Adj. R2: 0.709504
                 Within R2: 0.077807</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>fit4_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_mean_ratio <span class="sc">~</span> LNRGDP <span class="sc">+</span>v2x_polyarchy <span class="sc">+</span> PN6 <span class="sc">+</span> defense_dem <span class="sc">+</span> defense_nodem <span class="sc">+</span> atwar<span class="sc">+</span>civilwar <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 534,717 observations removed because of NA values (LHS: 400,680, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit4_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_mean_ratio
Observations: 320,332 
Fixed-effects: year: 50,  ccode: 162
Standard-errors: Clustered (year) 
               Estimate Std. Error   t value   Pr(&gt;|t|)    
LNRGDP        -0.246150   0.045016  -5.46803 1.5269e-06 ***
v2x_polyarchy -0.693158   0.069171 -10.02090 1.8783e-13 ***
PN6            0.962102   0.228501   4.21050 1.0854e-04 ***
defense_dem   -0.179099   0.038274  -4.67942 2.3004e-05 ***
defense_nodem  0.308625   0.038320   8.05385 1.5808e-10 ***
atwar          0.286179   0.042069   6.80264 1.3414e-08 ***
civilwar       0.208470   0.039003   5.34492 2.3470e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 1.8747     Adj. R2: 0.23819 
               Within R2: 0.007155</code></pre>
</div>
</div>
</section>
<section id="year-moving-average-of-the-mil-expgdp-ratio" class="level2">
<h2 class="anchored" data-anchor-id="year-moving-average-of-the-mil-expgdp-ratio">3-year Moving Average of the Mil Exp/GDP ratio</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(ccode) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">LMILGDP_ma3 =</span> <span class="fu">rollmean</span>(LMILGDP, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>),  </span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_smilex_ratio_ma3 =</span> <span class="fu">rollmean</span>(ln_smilex_ratio, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_milex_ratio_ma3 =</span> <span class="fu">rollmean</span>(ln_milex_ratio, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_mean_ratio_ma3 =</span> <span class="fu">rollmean</span>(ln_mean_ratio, <span class="at">k=</span><span class="dv">3</span>, <span class="at">fill=</span><span class="cn">NA</span>)</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">LMILEX_ma3_diff =</span> LMILGDP <span class="sc">-</span> LMILGDP_ma3,</span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_smilex_ma3_diff =</span> ln_smilex_ratio <span class="sc">-</span> ln_smilex_ratio_ma3,</span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_milex_ma3_diff =</span> ln_milex_ratio <span class="sc">-</span> ln_milex_ratio_ma3,</span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_log_ma3_diff =</span> ln_mean_ratio <span class="sc">-</span> ln_mean_ratio_ma3</span>
<span id="cb147-11"><a href="#cb147-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Leeâ€™s take a look at the distributions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>LMILEX_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.6     0.0     0.0     0.0     0.0     2.1  556394 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>LMILEX_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_smilex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -1.2     0.0     0.0     Inf     0.0     Inf  557878 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_smilex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_milex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.5     0.0     0.0     0.0     0.0     2.1  556076 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_milex_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>mean_log_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -3.5     0.0     0.0     0.0     0.0     4.9  418865 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>mean_log_ma3_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-18-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regressions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>fit5_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX_ma3_diff  <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1<span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 584,749 observations removed because of NA values (LHS: 556,394, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit5_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX_ma3_diff
Observations: 270,300 
Fixed-effects: year: 48,  ccode: 158
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag1         0.000166   0.005676  0.029285  0.97676 
v2x_polyarchy_lag1  0.006636   0.012471  0.532067  0.59719 
PN6_lag1           -0.012920   0.044893 -0.287785  0.77478 
defense_dem_lag1   -0.002622   0.008514 -0.308027  0.75942 
defense_nodem_lag1  0.000688   0.009416  0.073070  0.94206 
atwar_lag1          0.022426   0.020632  1.086976  0.28259 
civilwar_lag1      -0.001466   0.010906 -0.134430  0.89364 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.146857     Adj. R2: 0.022495
                 Within R2: 7.055e-4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>fit5_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 651,953 observations removed because of NA and infinite values (LHS: 557,984, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit5_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ma3_diff
Observations: 203,096 
Fixed-effects: year: 51,  ccode: 149
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag1        -0.001590   0.004548 -0.349580  0.72812 
v2x_polyarchy_lag1  0.005491   0.009506  0.577679  0.56607 
PN6_lag1            0.019042   0.041348  0.460533  0.64713 
defense_dem_lag1    0.000273   0.007581  0.036050  0.97139 
defense_nodem_lag1  0.002522   0.008953  0.281698  0.77934 
atwar_lag1          0.015599   0.016885  0.923856  0.36000 
civilwar_lag1       0.006998   0.009730  0.719162  0.47539 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.101361     Adj. R2: 0.028912
                 Within R2: 9.009e-4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a>fit5_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 584,431 observations removed because of NA values (LHS: 556,076, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit5_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ma3_diff
Observations: 270,618 
Fixed-effects: year: 48,  ccode: 159
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag1         0.000321   0.005825  0.055141  0.95626 
v2x_polyarchy_lag1  0.006665   0.011554  0.576916  0.56675 
PN6_lag1           -0.017346   0.045192 -0.383830  0.70284 
defense_dem_lag1   -0.000906   0.009538 -0.095005  0.92471 
defense_nodem_lag1 -0.002062   0.010343 -0.199323  0.84287 
atwar_lag1          0.030908   0.019413  1.592114  0.11806 
civilwar_lag1       0.002789   0.010981  0.253969  0.80063 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.149731     Adj. R2: 0.025209
                 Within R2: 0.001233</code></pre>
</div>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>fit5_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log_ma3_diff <span class="sc">~</span> LNRGDP_lag1 <span class="sc">+</span>v2x_polyarchy_lag1 <span class="sc">+</span> PN6_lag1 <span class="sc">+</span> defense_dem_lag1 <span class="sc">+</span> defense_nodem_lag1 <span class="sc">+</span> atwar_lag1<span class="sc">+</span>civilwar_lag1 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 542,140 observations removed because of NA values (LHS: 418,865, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit5_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log_ma3_diff
Observations: 312,909 
Fixed-effects: year: 51,  ccode: 168
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag1         0.000764   0.003082  0.247769 0.805328    
v2x_polyarchy_lag1 -0.016207   0.012116 -1.337671 0.187057    
PN6_lag1            0.020963   0.027187  0.771067 0.444296    
defense_dem_lag1    0.005983   0.007576  0.789737 0.433411    
defense_nodem_lag1 -0.004735   0.008335 -0.568144 0.572480    
atwar_lag1          0.019797   0.007478  2.647531 0.010817 *  
civilwar_lag1       0.010168   0.010110  1.005705 0.319400    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.098568     Adj. R2: 0.051833
                 Within R2: 0.002458</code></pre>
</div>
</div>
</section>
<section id="year-moving-average" class="level2">
<h2 class="anchored" data-anchor-id="year-moving-average">5-year moving average</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(ccode) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">LMILGDP_ma5 =</span> <span class="fu">rollmean</span>(LMILGDP, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>),  </span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_smilex_ratio_ma5 =</span> <span class="fu">rollmean</span>(ln_smilex_ratio, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_milex_ratio_ma5 =</span> <span class="fu">rollmean</span>(ln_milex_ratio, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_mean_ratio_ma5 =</span> <span class="fu">rollmean</span>(ln_mean_ratio, <span class="at">k=</span><span class="dv">5</span>, <span class="at">fill=</span><span class="cn">NA</span>)</span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">LMILEX_ma5_diff =</span> LMILGDP <span class="sc">-</span> LMILGDP_ma5,</span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_smilex_ma5_diff =</span> ln_smilex_ratio <span class="sc">-</span> ln_smilex_ratio_ma5,</span>
<span id="cb176-9"><a href="#cb176-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_milex_ma5_diff =</span> ln_milex_ratio <span class="sc">-</span> ln_milex_ratio_ma5,</span>
<span id="cb176-10"><a href="#cb176-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_log_ma5_diff =</span> ln_mean_ratio <span class="sc">-</span> ln_mean_ratio_ma5</span>
<span id="cb176-11"><a href="#cb176-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Letâ€™s take a look at the distributions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>LMILEX_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.8    -0.1     0.0     0.0     0.1     1.8  576799 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>LMILEX_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_smilex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -1.3     0.0     0.0     Inf     0.0     Inf  579820 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_smilex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_milex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.6    -0.1     0.0     0.0     0.1     1.8  576587 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_milex_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-21-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>mean_log_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -4.2    -0.1     0.0     0.0     0.1     6.1  436997 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>mean_log_ma5_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-21-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regressions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>fit6_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX_ma5_diff  <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 603,193 observations removed because of NA values (LHS: 576,799, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit6_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX_ma5_diff
Observations: 251,856 
Fixed-effects: year: 46,  ccode: 158
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.001879   0.004740  0.396447  0.69365 
v2x_polyarchy_lag2  0.006808   0.021648  0.314495  0.75460 
PN6_lag2            0.036138   0.058326  0.619585  0.53866 
defense_dem_lag2   -0.012187   0.014055 -0.867083  0.39050 
defense_nodem_lag2  0.016080   0.014414  1.115606  0.27051 
atwar_lag2          0.009387   0.017425  0.538741  0.59272 
civilwar_lag2       0.013786   0.010122  1.361929  0.18000 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.170433     Adj. R2: 0.032997
                 Within R2: 0.00132 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a>fit6_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 663,558 observations removed because of NA and infinite values (LHS: 580,032, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit6_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ma5_diff
Observations: 191,491 
Fixed-effects: year: 50,  ccode: 150
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.001057   0.005471  0.193169  0.84763 
v2x_polyarchy_lag2 -0.008816   0.012597 -0.699869  0.48732 
PN6_lag2            0.046905   0.056301  0.833112  0.40882 
defense_dem_lag2   -0.010856   0.009018 -1.203858  0.23443 
defense_nodem_lag2  0.011036   0.010146  1.087676  0.28206 
atwar_lag2          0.030642   0.025935  1.181500  0.24311 
civilwar_lag2       0.006193   0.012132  0.510444  0.61203 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.13274     Adj. R2: 0.042533
                Within R2: 0.002536</code></pre>
</div>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>fit6_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 602,981 observations removed because of NA values (LHS: 576,587, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit6_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ma5_diff
Observations: 252,068 
Fixed-effects: year: 46,  ccode: 159
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.002443   0.005050  0.483901  0.63080 
v2x_polyarchy_lag2  0.006051   0.023066  0.262310  0.79428 
PN6_lag2            0.036368   0.059250  0.613802  0.54244 
defense_dem_lag2   -0.009077   0.016108 -0.563490  0.57590 
defense_nodem_lag2  0.013994   0.015305  0.914296  0.36543 
atwar_lag2          0.011435   0.017370  0.658328  0.51368 
civilwar_lag2       0.011542   0.011501  1.003560  0.32096 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.177201     Adj. R2: 0.040684
                 Within R2: 0.001025</code></pre>
</div>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a>fit6_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log_ma5_diff <span class="sc">~</span> LNRGDP_lag2 <span class="sc">+</span>v2x_polyarchy_lag2 <span class="sc">+</span> PN6_lag2 <span class="sc">+</span> defense_dem_lag2 <span class="sc">+</span> defense_nodem_lag2 <span class="sc">+</span> atwar_lag2<span class="sc">+</span>civilwar_lag2  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 549,513 observations removed because of NA values (LHS: 436,997, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit6_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log_ma5_diff
Observations: 305,536 
Fixed-effects: year: 50,  ccode: 169
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag2         0.001707   0.004171  0.409165  0.68420 
v2x_polyarchy_lag2 -0.001803   0.016681 -0.108077  0.91438 
PN6_lag2            0.013661   0.043670  0.312828  0.75574 
defense_dem_lag2   -0.003971   0.010724 -0.370267  0.71278 
defense_nodem_lag2  0.010735   0.009014  1.190826  0.23946 
atwar_lag2          0.009086   0.009352  0.971509  0.33607 
civilwar_lag2       0.000506   0.006298  0.080387  0.93626 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.146361     Adj. R2: 0.039376
                 Within R2: 5.867e-4</code></pre>
</div>
</div>
</section>
<section id="year-moving-average-1" class="level2">
<h2 class="anchored" data-anchor-id="year-moving-average-1">10-year moving average</h2>
<p>a</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">group_by</span>(ccode) <span class="sc">|&gt;</span>  <span class="fu">mutate</span>(</span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">LMILGDP_ma10 =</span> <span class="fu">rollmean</span>(LMILGDP, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>),  </span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_smilex_ratio_ma10 =</span> <span class="fu">rollmean</span>(ln_smilex_ratio, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_milex_ratio_ma10 =</span> <span class="fu">rollmean</span>(ln_milex_ratio, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>), </span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ln_mean_ratio_ma10 =</span> <span class="fu">rollmean</span>(ln_mean_ratio, <span class="at">k=</span><span class="dv">10</span>, <span class="at">fill=</span><span class="cn">NA</span>)</span>
<span id="cb205-6"><a href="#cb205-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb205-7"><a href="#cb205-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>( <span class="at">LMILEX_ma10_diff =</span> LMILGDP <span class="sc">-</span> LMILGDP_ma10,</span>
<span id="cb205-8"><a href="#cb205-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_smilex_ma10_diff =</span> ln_smilex_ratio <span class="sc">-</span> ln_smilex_ratio_ma10,</span>
<span id="cb205-9"><a href="#cb205-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">ln_milex_ma10_diff =</span> ln_milex_ratio <span class="sc">-</span> ln_milex_ratio_ma10,</span>
<span id="cb205-10"><a href="#cb205-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_log_ma10_diff =</span> ln_mean_ratio <span class="sc">-</span> ln_mean_ratio_ma10</span>
<span id="cb205-11"><a href="#cb205-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>LEeâ€™s take a look at the distributions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>LMILEX_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.9    -0.1     0.0     0.0     0.1     1.6  623333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb208"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>LMILEX_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_smilex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -1.4    -0.1     0.0     Inf     0.1     Inf  627308 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_smilex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-24-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>ln_milex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -2.7    -0.1     0.0     0.0     0.1     1.6  623333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>ln_milex_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-24-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df<span class="sc">$</span>mean_log_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
   -4.3    -0.1     0.0     0.0     0.1     6.6  481903 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df<span class="sc">$</span>mean_log_ma10_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ArmedPeace-NewDV-_20240630_files/figure-html/unnamed-chunk-24-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Regressions</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>fit7_1 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(LMILEX_ma10_diff  <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df) <span class="co">#with year and country fixed effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 647,713 observations removed because of NA values (LHS: 623,333, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb220"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit7_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: LMILEX_ma10_diff
Observations: 207,336 
Fixed-effects: year: 41,  ccode: 139
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag4         0.003775   0.004503  0.838230 0.406883    
v2x_polyarchy_lag4  0.001466   0.020723  0.070731 0.943965    
PN6_lag4           -0.023611   0.051821 -0.455631 0.651119    
defense_dem_lag4   -0.008783   0.013211 -0.664834 0.509972    
defense_nodem_lag4 -0.016598   0.011726 -1.415578 0.164639    
atwar_lag4          0.028520   0.022173  1.286241 0.205755    
civilwar_lag4      -0.031897   0.013953 -2.286052 0.027624 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.229914     Adj. R2: 0.068054
                 Within R2: 0.002204</code></pre>
</div>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a>fit7_2 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_smilex_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4 <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 684,493 observations removed because of NA and infinite values (LHS: 627,785, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit7_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_smilex_ma10_diff
Observations: 170,556 
Fixed-effects: year: 48,  ccode: 137
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag4        -0.001386   0.003675 -0.377201  0.70772 
v2x_polyarchy_lag4  0.002498   0.017860  0.139893  0.88934 
PN6_lag4            0.050544   0.050668  0.997551  0.32361 
defense_dem_lag4   -0.019874   0.014770 -1.345513  0.18492 
defense_nodem_lag4  0.022856   0.016417  1.392211  0.17041 
atwar_lag4          0.007258   0.020580  0.352670  0.72591 
civilwar_lag4       0.010981   0.010062  1.091351  0.28068 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.166998     Adj. R2: 0.086531
                 Within R2: 0.002065</code></pre>
</div>
<div class="sourceCode cell-code" id="cb226"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb226-1"><a href="#cb226-1" aria-hidden="true" tabindex="-1"></a>fit7_3 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(ln_milex_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 647,713 observations removed because of NA values (LHS: 623,333, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit7_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: ln_milex_ma10_diff
Observations: 207,336 
Fixed-effects: year: 41,  ccode: 139
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|) 
LNRGDP_lag4         0.003050   0.004621  0.659965  0.51306 
v2x_polyarchy_lag4  0.006556   0.020878  0.314027  0.75513 
PN6_lag4           -0.007323   0.057176 -0.128070  0.89874 
defense_dem_lag4    0.000262   0.016024  0.016344  0.98704 
defense_nodem_lag4 -0.016066   0.011292 -1.422707  0.16257 
atwar_lag4          0.037168   0.025299  1.469158  0.14961 
civilwar_lag4      -0.020469   0.013927 -1.469791  0.14944 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.242943     Adj. R2: 0.080337
                 Within R2: 0.001479</code></pre>
</div>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>fit7_4 <span class="ot">&lt;-</span> fixest<span class="sc">::</span><span class="fu">feols</span>(mean_log_ma10_diff <span class="sc">~</span> LNRGDP_lag4 <span class="sc">+</span>v2x_polyarchy_lag4 <span class="sc">+</span> PN6_lag4 <span class="sc">+</span> defense_dem_lag4 <span class="sc">+</span> defense_nodem_lag4 <span class="sc">+</span> atwar_lag4<span class="sc">+</span>civilwar_lag4  <span class="sc">|</span> year <span class="sc">+</span> ccode, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>NOTE: 567,176 observations removed because of NA values (LHS: 481,903, RHS: 534,717, Fixed-effects: 22,737).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb232"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb232-1"><a href="#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit7_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>OLS estimation, Dep. Var.: mean_log_ma10_diff
Observations: 287,873 
Fixed-effects: year: 48,  ccode: 170
Standard-errors: Clustered (year) 
                    Estimate Std. Error   t value Pr(&gt;|t|)    
LNRGDP_lag4         0.005183   0.004589  1.129582 0.264384    
v2x_polyarchy_lag4 -0.001131   0.020149 -0.056129 0.955477    
PN6_lag4           -0.057597   0.037364 -1.541498 0.129902    
defense_dem_lag4   -0.030645   0.015884 -1.929263 0.059748 .  
defense_nodem_lag4  0.018470   0.012667  1.458167 0.151445    
atwar_lag4          0.060686   0.036907  1.644291 0.106789    
civilwar_lag4      -0.023379   0.014275 -1.637816 0.108139    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
RMSE: 0.229054     Adj. R2: 0.086855
                 Within R2: 0.003942</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>